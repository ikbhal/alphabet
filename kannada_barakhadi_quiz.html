<!DOCTYPE html>
<html>
<head>

  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"></script>

<script>
class Test {
  constructor(name){
      this.traverse_index=-1;
      this.name = name;
      this.alphabets = [];
  }

  clear() {
      this.alphabets=[];
      this.traverse_index=-1;
  }
  add(alphabet) {
      this.alphabets.push(alphabet);
  }
  remove(alphabet) {
      for( var i = 0; i < this.alphabets.length; i++) {
          if(this.alphabets[i] === alphabet) {
              this.alphabets.splice(i,1);
              break;
          }
      }
  }

  get(index) {
      return this.alphabets[index];
  }

  length() {
      return this.alphabets.length;
  }

  getFromLast() {
      if(this.alphabets.length ==0 ){
          console.error("no alphets to getFromLast");
          return;
      }
      if(this.traverse_index === -1 || this.traverse_index === 0){ // first time or reached beginning
          this.traverse_index = this.alphabets.length;
      }
      this.traverse_index--;
      return this.alphabets[this.traverse_index];
  }
}

var diacriticSelectTest = new Test("diacritics");

var consonants =['ಕ','ಖ','ಗ','ಘ','ಙ','ಚ','ಛ','ಜ','ಝ','ಞ','ಟ','ಠ','ಡ','ಢ','ಣ','ತ','ಥ','ದ','ಧ','ನ','ಪ','ಫ','ಬ','ಭ','ಮ','ಯ','ರ','ಱ','ಲ','ವ','ಶ','ಷ','ಸ','ಹ','ಳ','ೞ'];
var diacritics =[
['ಅ','N/A','a'],
['ಆ','ಾ','ā'],
['ಇ','ಿ','i'],
['ಈ','ೀ','ī'],
['ಉ','ು','u'],
['ಊ','ೂ','ū'],
['ಋ','ೃ','ṛ/r̥'],
['ೠ','ೄ','ṝ/r̥̄'],
['ಎ','ೆ','e'],
['ಏ','ೇ','ē'],
['ಐ','ೈ','ai'],
['ಒ','ೊ','o'],
['ಓ','ೋ','ō'],
['ಔ','ೌ','au']
];
var arr=[
['ಅ','ಆ','ಇ','ಈ','ಉ','ಊ','ಋ','ೠ','ಎ','ಏ','ಐ','ಒ','ಓ','ಔ','ಅಂ','ಅಃ','—'],
['ಕ','ಕಾ','ಕಿ','ಕೀ','ಕು','ಕೂ','ಕೃ','ಕೄ','ಕೆ','ಕೇ','ಕೈ','ಕೊ','ಕೋ','ಕೌ','ಕಂ','ಕಃ','ಕ್'],
['ಖ','ಖಾ','ಖಿ','ಖೀ','ಖು','ಖೂ','ಖೃ','ಖೄ','ಖೆ','ಖೇ','ಖೈ','ಖೊ','ಖೋ','ಖೌ','ಖಂ','ಖಃ','ಖ್'],
['ಗ','ಗಾ','ಗಿ','ಗೀ','ಗು','ಗೂ','ಗೃ','ಗೄ','ಗೆ','ಗೇ','ಗೈ','ಗೊ','ಗೋ','ಗೌ','ಗಂ','ಗಃ','ಗ್'],
['ಘ','ಘಾ','ಘಿ','ಘೀ','ಘು','ಘೂ','ಘೃ','ಘೄ','ಘೆ','ಘೇ','ಘೈ','ಘೊ','ಘೋ','ಘೌ','ಘಂ','ಘಃ','ಘ್'],
['ಙ','ಙಾ','ಙಿ','ಙೀ','ಙು','ಙೂ','ಙೃ','ಙೄ','ಙೆ','ಙೇ','ಙೈ','ಙೊ','ಙೋ','ಙೌ','ಙಂ','ಙಃ','ಙ್'],
['ಚ','ಚಾ','ಚಿ','ಚೀ','ಚು','ಚೂ','ಚೃ','ಚೄ','ಚೆ','ಚೇ','ಚೈ','ಚೊ','ಚೋ','ಚೌ','ಚಂ','ಚಃ','ಚ್'],
['ಛ','ಛಾ','ಛಿ','ಛೀ','ಛು','ಛೂ','ಛೃ','ಛೄ','ಛೆ','ಛೇ','ಛೈ','ಛೊ','ಛೋ','ಛೌ','ಛಂ','ಛಃ','ಛ್'],
['ಜ','ಜಾ','ಜಿ','ಜೀ','ಜು','ಜೂ','ಜೃ','ಜೄ','ಜೆ','ಜೇ','ಜೈ','ಜೊ','ಜೋ','ಜೌ','ಜಂ','ಜಃ','ಜ್'],
['ಝ','ಝಾ','ಝಿ','ಝೀ','ಝು','ಝೂ','ಝೃ','ಝೄ','ಝೆ','ಝೇ','ಝೈ','ಝೊ','ಝೋ','ಝೌ','ಝಂ','ಝಃ','ಝ್'],
['ಞ','ಞಾ','ಞಿ','ಞೀ','ಞು','ಞೂ','ಞೃ','ಞೄ','ಞೆ','ಞೇ','ಞೈ','ಞೊ','ಞೋ','ಞೌ','ಞಂ','ಞಃ','ಞ್'],
['ಟ','ಟಾ','ಟಿ','ಟೀ','ಟು','ಟೂ','ಟೃ','ಟೄ','ಟೆ','ಟೇ','ಟೈ','ಟೊ','ಟೋ','ಟೌ','ಟಂ','ಟಃ','ಟ್'],
['ಠ','ಠಾ','ಠಿ','ಠೀ','ಠು','ಠೂ','ಠೃ','ಠೄ','ಠೆ','ಠೇ','ಠೈ','ಠೊ','ಠೋ','ಠೌ','ಠಂ','ಠಃ','ಠ್'],
['ಡ','ಡಾ','ಡಿ','ಡೀ','ಡು','ಡೂ','ಡೃ','ಡೄ','ಡೆ','ಡೇ','ಡೈ','ಡೊ','ಡೋ','ಡೌ','ಡಂ','ಡಃ','ಡ್'],
['ಢ','ಢಾ','ಢಿ','ಢೀ','ಢು','ಢೂ','ಢೃ','ಢೄ','ಢೆ','ಢೇ','ಢೈ','ಢೊ','ಢೋ','ಢೌ','ಢಂ','ಢಃ','ಢ್'],
['ಣ','ಣಾ','ಣಿ','ಣೀ','ಣು','ಣೂ','ಣೃ','ಣೄ','ಣೆ','ಣೇ','ಣೈ','ಣೊ','ಣೋ','ಣೌ','ಣಂ','ಣಃ','ಣ್'],
['ತ','ತಾ','ತಿ','ತೀ','ತು','ತೂ','ತೃ','ತೄ','ತೆ','ತೇ','ತೈ','ತೊ','ತೋ','ತೌ','ತಂ','ತಃ','ತ್'],
['ಥ','ಥಾ','ಥಿ','ಥೀ','ಥು','ಥೂ','ಥೃ','ಥೄ','ಥೆ','ಥೇ','ಥೈ','ಥೊ','ಥೋ','ಥೌ','ಥಂ','ಥಃ','ಥ್'],
['ದ','ದಾ','ದಿ','ದೀ','ದು','ದೂ','ದೃ','ದೄ','ದೆ','ದೇ','ದೈ','ದೊ','ದೋ','ದೌ','ದಂ','ದಃ','ದ್'],
['ಧ','ಧಾ','ಧಿ','ಧೀ','ಧು','ಧೂ','ಧೃ','ಧೄ','ಧೆ','ಧೇ','ಧೈ','ಧೊ','ಧೋ','ಧೌ','ಧಂ','ಧಃ','ಧ್'],
['ನ','ನಾ','ನಿ','ನೀ','ನು','ನೂ','ನೃ','ನೄ','ನೆ','ನೇ','ನೈ','ನೊ','ನೋ','ನೌ','ನಂ','ನಃ','ನ್'],
['ಪ','ಪಾ','ಪಿ','ಪೀ','ಪು','ಪೂ','ಪೃ','ಪೄ','ಪೆ','ಪೇ','ಪೈ','ಪೊ','ಪೋ','ಪೌ','ಪಂ','ಪಃ','ಪ್'],
['ಫ','ಫಾ','ಫಿ','ಫೀ','ಫು','ಫೂ','ಫೃ','ಫೄ','ಫೆ','ಫೇ','ಫೈ','ಫೊ','ಫೋ','ಫೌ','ಫಂ','ಫಃ','ಫ್'],
['ಬ','ಬಾ','ಬಿ','ಬೀ','ಬು','ಬೂ','ಬೃ','ಬೄ','ಬೆ','ಬೇ','ಬೈ','ಬೊ','ಬೋ','ಬೌ','ಬಂ','ಬಃ','ಬ್'],
['ಭ','ಭಾ','ಭಿ','ಭೀ','ಭು','ಭೂ','ಭೃ','ಭೄ','ಭೆ','ಭೇ','ಭೈ','ಭೊ','ಭೋ','ಭೌ','ಭಂ','ಭಃ','ಭ್'],
['ಮ','ಮಾ','ಮಿ','ಮೀ','ಮು','ಮೂ','ಮೃ','ಮೄ','ಮೆ','ಮೇ','ಮೈ','ಮೊ','ಮೋ','ಮೌ','ಮಂ','ಮಃ','ಮ್'],
['ಯ','ಯಾ','ಯಿ','ಯೀ','ಯು','ಯೂ','ಯೃ','ಯೄ','ಯೆ','ಯೇ','ಯೈ','ಯೊ','ಯೋ','ಯೌ','ಯಂ','ಯಃ','ಯ್'],
['ರ','ರಾ','ರಿ','ರೀ','ರು','ರೂ','ರೃ','ರೄ','ರೆ','ರೇ','ರೈ','ರೊ','ರೋ','ರೌ','ರಂ','ರಃ','ರ್'],
['ಱ','ಱಾ','ಱಿ','ಱೀ','ಱು','ಱೂ','ಱೃ','ಱೄ','ಱೆ','ಱೇ','ಱೈ','ಱೊ','ಱೋ','ಱೌ','ಱಂ','ಱಃ','ಱ್'],
['ಲ','ಲಾ','ಲಿ','ಲೀ','ಲು','ಲೂ','ಲೃ','ಲೄ','ಲೆ','ಲೇ','ಲೈ','ಲೊ','ಲೋ','ಲೌ','ಲಂ','ಲಃ','ಲ್'],
['ವ','ವಾ','ವಿ','ವೀ','ವು','ವೂ','ವೃ','ವೄ','ವೆ','ವೇ','ವೈ','ವೊ','ವೋ','ವೌ','ವಂ','ವಃ','ವ್'],
['ಶ','ಶಾ','ಶಿ','ಶೀ','ಶು','ಶೂ','ಶೃ','ಶೄ','ಶೆ','ಶೇ','ಶೈ','ಶೊ','ಶೋ','ಶೌ','ಶಂ','ಶಃ','ಶ್'],
['ಷ','ಷಾ','ಷಿ','ಷೀ','ಷು','ಷೂ','ಷೃ','ಷೄ','ಷೆ','ಷೇ','ಷೈ','ಷೊ','ಷೋ','ಷೌ','ಷಂ','ಷಃ','ಷ್'],
['ಸ','ಸಾ','ಸಿ','ಸೀ','ಸು','ಸೂ','ಸೃ','ಸೄ','ಸೆ','ಸೇ','ಸೈ','ಸೊ','ಸೋ','ಸೌ','ಸಂ','ಸಃ','ಸ್'],
['ಹ','ಹಾ','ಹಿ','ಹೀ','ಹು','ಹೂ','ಹೃ','ಹೄ','ಹೆ','ಹೇ','ಹೈ','ಹೊ','ಹೋ','ಹೌ','ಹಂ','ಹಃ','ಹ್'],
['ಳ','ಳಾ','ಳಿ','ಳೀ','ಳು','ಳೂ','ಳೃ','ಳೄ','ಳೆ','ಳೇ','ಳೈ','ಳೊ','ಳೋ','ಳೌ','ಳಂ','ಳಃ','ಳ್'],
['ೞ','ೞಾ','ೞಿ','ೞೀ','ೞು','ೞೂ','ೞೃ','ೞೄ','ೞೆ','ೞೇ','ೞೈ','ೞೊ','ೞೋ','ೞೌ','ೞಂ','ೞಃ','ೞ್']
    ];

$(document).ready(function(){

   // populate diacritics selection
   $.each(diacritics, function(index, value){
        //var span = $('<button />').addClass('diacritic').html(value[1] );
        var diacriticButton = $('<button/>', {
            text: value[1],
            id: 'btn_diacritic_'+index,
            click: function (e) {
                 var ch = $(e.target).text();
                 console.log("clicked button ch:" + ch);
                 diacriticSelectTest.add(ch);
                 console.log("diacriticSelectTest");
                 console.log(diacriticSelectTest);
            }
        });
        $("#selectDiacriticsContainer").append(diacriticButton);
   });

   $("#nextSelectDiacritics").click(function(){
        var ch = diacriticSelectTest.getFromLast();// later from getFromFirst(), getFromLastSkip
        $("#qselectDiacritics").html(ch);
        $("#selectedDiacriticsTextList").append(","+ch);
   });

   //selectedDiacriticsTextList
   //nextSelectDiacritics

    $("#resetSelectDiacritics").click(function(){
        diacriticSelectTest.clear();// later from getFromFirst(), getFromLastSkip
        $("#selectedDiacriticsTextList").html("Please select diacritics");
   });


   // end of selection of diascritic

   //qdiacritics
   $("#qdiacritics").html(diacritics[1][0]);

   $("#nextDiacritics").click(function(){

    var ch = diacritics[1+ Math.floor(Math.random() * diacritics.length-1)][1];
    $("#qdiacritics").html(ch);
   });
    //---
    //consonants_accord, qconsonants, nextConsonants
    $("#qconsonants").html(consonants[0]);

   $("#nextConsonants").click(function(){

    var ch = consonants[Math.floor(Math.random() * consonants.length)];
    $("#qconsonants").html(ch);
   });
    //--
    // diacritic + consonants
   $("#q").html('ಲ');

  $("#next").click(function(){
    var nr = arr.length;
    var nc = arr[0].length;
    var i = Math.floor(Math.random() * nr);
    var j = Math.floor(Math.random() * nc);
    var ch = arr[i][j];
    $("#q").html(ch);
  });

});
</script>
  <style>



div#qdiacritics, .question {
    width: 400px;
    background: yellow;
    height: 400px;
    font-size: 320px;
}
      /*
  div#q {
    background: yellow;
    width: 400px;
    height: 400px;
    font-size: 250px;
    margin-left: auto;
    margin-right: auto;
    */
  </style>
</head>
<body>

<div class="container">
  <h1>Say What You See</h1>
  <button type="button" class="btn btn-primary" data-toggle="collapse" data-target="#diacritics_accord">Select Diacritics</button>
  <div id="diacritics_accord" class="collapse">
     <div id="qselectDiacritics" class="question">
     </div>
     <button id="nextSelectDiacritics">Next</button><button id="resetSelectDiacritics">Reset</button>
     <div id ="selectedDiacriticsTextList"></div>
     <div id="selectDiacriticsContainer">
     </div>
  </div>


  <button type="button" class="btn btn-primary" data-toggle="collapse" data-target="#diacritics_accord">Diacritics</button>
  <div id="diacritics_accord" class="collapse">
     <div id="qdiacritics" class="question">
     </div>
     <button id="nextDiacritics">Next</button>
  </div>

  <button type="button" class="btn btn-primary" data-toggle="collapse" data-target="#consonants_accord">Consonants</button>
  <div id="consonants_accord" class="collapse">
     <div id="qconsonants" class="question">
     </div>
     <button id="nextConsonants">Next</button>
  </div>

  <button type="button" class="btn btn-primary" data-toggle="collapse" data-target="#demo">Consonants Diag</button>
  <div id="demo" class="collapse" >
     <div id="q" class="question">
     </div>
     <button id="next">Next</button>

  </div>
</div>


</body>
</html>
